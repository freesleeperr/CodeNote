# Cs

## 环境

#### VS

选择 c#终端新建

## 控制台

命令 ctrl+f5
Console.Write("")...

## 注释

与 js 相同
`# region`,`# endregion`折叠代码标签

## 变量

申明方式`变量类型 变量名 = 初始值`

#### 变量类型

##### 有符号的整形变量 能存储一定范围的正负数数值

sbyte:-128~127,占 1 字节
int:+-21 亿,占 4 字节
short:-32768~32767,占 2 字节
long:+-9 百万兆,占 8 字节

##### 无符号的整形变量

byte:0~255 占 1 字节
unit:0~24 亿 占 4 字节
ushort:0~65535 占 2 字节
ulong:0~18 百万,占 8 字节

##### 浮点数

特点:存小数,按照有效数字计算,超出的会四舍五入

float:存储 7~8 位有效数字,数字最后要加`f`,因为默认为 double 类型,占 4 个字节
double:存储 15~17 位有效数字,占 8 个字节
decimal:存储 27~28 的有效数字,数字最后要加`m`,占 16 个字节 128 位

##### 特殊类型

bool:表示真假的类型
char:存储单个字符的变量类型 2 个字节，表示 1 个 Unicode 字符
string:字符串

_变量可以没有初始值,但是不建议_

#### 变量的本质

所占的内存越大,存储的信息越多
本质:二进制的 0 和 1
1byte=8bit(8 个 0/1)

2 进制转 10 进制
10 进制转 2 进制

对于有符号的,左侧第一位存储符号

#### 命名规则

不能重名
不能以数字开头
不能使用关键字
不能有特殊符号

#### 声明常量

const
`const int mynumber = 13`

1. 必须初始化(必须提供一个值)
2. 不得被修改

在游戏中用于定义不会变化的数值

#### 转义字符

用途: 显示特殊符号

固定写法\
常用写法:

- 双引号\"
- 单引号\'
- 换行\n
- 斜杠\\
- 制表符\t 看起来像 4 个空格
- 光标退格\b
- 空字符\0
- 警告音\a
- 取消转义字符@

#### 隐式转换

##### 无符号的隐式转换

ulong>unit>ushort>byte

大范围的可以存储小范围的值,变量的类型也会发生改变

##### 有符号的隐式转换

long>int>short>sbyte
相同与无符号

##### 浮点数的隐式转换

double>float>所有整型(无符号+有符号) decimal(无法隐式转换)

##### 不同类型转换

- 特殊类型无法转换
- 有符号的变量无法转换成无符号的数
- 无符号的数在不超出范围的情况下可以转换为有符号的数
- 浮点数可以装任何类型的整数(double,float)

- decimal 可以隐式存储所有整形(无符号+有符号)
- bool 无法隐式转换

- char 可以隐式转换为整型和浮点型(ascii 码)
- 一个字符对应一个数字编码
- string 无法隐式转换

##### 总结

- 高精度转换为低精度
- double>float>整型>char
- decimal>整型>char
- long>int>short>sbyte
- ulong>unit>ushort>byte
- 无符号>X 有符号
- 有符号>无符号(范围必须符合)

#### 显式转换

##### 括号强转

把高精度转换为低精度,可以避免报错
变量类型 变量名 = (变量类型)变量
`double i = 1.1234831352511f`强行转为 float
`i2 = (float)i`

- 在强行转换时注意范围,否则会有异常
- 浮点数强转整形会丢失小数点后的数字
- bool&string 不能通过括号强转

##### Parse 法

- 把字符串类型转换为对应的类型
  `变量类型.Parse("字符串")`

##### Convert 法

`int a = Convert.ToInt32("12")`

- 精度比括号强转好,会四舍五入
- bool 也可以转
- 每个类型都有对应的转换方法

##### 其他类型转 string

拼接打印
`str= "123"+1+true`
`str=a.toString(123)`

#### 错误捕获

```
try{

}catch{

}finall{

}
```

#### 运算符

在运算浮点数时需要加 f
取余运算`%`
运算符逻辑跟 js 相似
`++`
第一种形式是前缀增量操作。 该操作的结果是操作数加 1 之后的值。

第二种形式是后缀增量操作。 该运算的结果是操作数增加之前的值,操作数加 1。

- 计算连续++时,值为上一次++后数值

##### 字符串拼接

字符串无法运算但是可以使用+/+=拼接
或者`string.Format("待拼接的{0}",{1}...,str0,str1...)

##### 条件运算

- 返回 bool 类型的值,`<,>,==`
- 先计算再比较
- 不能比较范围
- 特殊类型和相同类型比较

#### 位运算

连接两个数值进行计算,将数值转换为二进制
